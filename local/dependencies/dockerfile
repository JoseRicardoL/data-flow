FROM amazonlinux:2

# Install Python and development tools
RUN yum update -y && \
    yum install -y python3 python3-pip python3-devel gcc git && \
    yum clean all && \
    python3 -m pip install --upgrade pip

WORKDIR /workspace

# Create a requirements.txt file directly
RUN echo "jupyter" > /workspace/local/requirements.txt && \
    echo "jupyterlab" >> /workspace/local/requirements.txt && \
    echo "pyspark==3.3.0" >> /workspace/local/requirements.txt && \
    echo "boto3" >> /workspace/local/requirements.txt && \
    echo "pandas" >> /workspace/local/requirements.txt && \
    echo "numpy" >> /workspace/local/requirements.txt && \
    echo "pyarrow" >> /workspace/local/requirements.txt && \
    echo "matplotlib" >> /workspace/local/requirements.txt && \
    echo "seaborn" >> /workspace/local/requirements.txt

CMD ["echo", "Dependencies setup complete"]